<div class="space-y-4">
  <textarea 
    [(ngModel)]="textValue"
    (ngModelChange)="onTextChange($event)"
    [placeholder]="placeholder"
    [rows]="rows"
    class="w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary text-text bg-card resize-none"></textarea>
  
  <div class="flex items-center gap-3">
    <button 
      type="button"
      (click)="isRecording() ? stopRecording() : startRecording()"
      [class.bg-danger]="isRecording()"
      [class.text-white]="isRecording()"
      [class.border-border]="!isRecording()"
      [class.text-text]="!isRecording()"
      class="px-4 py-2 border rounded-md hover:opacity-90 font-medium flex items-center gap-2 transition-colors">
      <app-icon name="microphone" class="w-5 h-5"></app-icon>
      {{ isRecording() ? 'Stop Recording' : 'Start Voice Input' }}
    </button>
    
    <button 
      type="button"
      (click)="fillWithAI()"
      class="px-4 py-2 bg-primary text-white rounded-md hover:opacity-90 font-medium flex items-center gap-2">
      <app-icon name="sparkle" class="w-5 h-5"></app-icon>
      Fill with AI
    </button>
    
    @if (isProcessing()) {
      <div class="flex items-center gap-2 text-muted">
        <app-icon name="spinner" class="animate-spin h-5 w-5"></app-icon>
        <span class="text-sm">AI is processing...</span>
      </div>
    }
  </div>
</div>

